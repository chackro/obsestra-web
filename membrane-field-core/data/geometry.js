// ═══════════════════════════════════════════════════════════════════════════════
// Geometry Data — Hardcoded coordinates and polylines for Reynosa overlay
// ═══════════════════════════════════════════════════════════════════════════════
//
// This file contains pure data: no logic, no dependencies.
// All coordinates are in world space (meters from origin).
//
// ═══════════════════════════════════════════════════════════════════════════════

// Bridge approach region (quadrilateral in world coords)
// Cells inside this region get 3x capacity to simulate multi-lane approach
export const BRIDGE_APPROACH_QUAD = [
    { x: 145.43365576849544, y: 2199.9614127275727 },   // Top-left
    { x: 444.4335700493182, y: 2116.241436728942 },    // Top-right
    { x: -285.12622079588925, y: -2416.5972637683303 }, // Bottom-right
    { x: -536.2861487917803, y: -2308.957294627234 },  // Bottom-left
];

// ═══════════════════════════════════════════════════════════════════════════════
// INDUSTRIAL ZONES — Submarket injection regions
// ═══════════════════════════════════════════════════════════════════════════════
// Each zone gets a fixed share of total industrial flow; parks within distribute by m²

export const INDUSTRIAL_ZONES = [
    {
        id: 'norte',
        share: 0.07,  // 7%
        polygon: [
            { x: -15074.134959326351, y: 9637.908434651506 },
            { x: -15178.790784024386, y: 7926.0381592336535 },
            { x: -12405.411429526468, y: 7724.201925887443 },
            { x: -12517.54267027436, y: 9608.006770452068 },
        ]
    },
    {
        id: 'poniente',
        share: 0.32,  // 32%
        polygon: [
            { x: -19374.27564805051, y: 1861.8294955748534 },
            { x: -17832.80399913455, y: -4934.659138281881 },
            { x: -10020.345414855932, y: -4847.075521866202 },
            { x: -9757.594565608893, y: 1616.5953696109507 },
        ]
    },
    {
        id: 'san_fernando',
        share: 0.03,  // 3%
        polygon: [
            { x: -9261.317711786247, y: -5681.080225777392 },
            { x: -9261.317711786247, y: -7866.3996312016425 },
            { x: -4645.596350796708, y: -8540.376644089496 },
            { x: -5605.503005515771, y: -4680.326479368156 },
        ]
    },
    {
        id: 'pharr_bridge',
        share: 0.58,  // 58%
        polygon: [
            { x: -3481.454237626778, y: -1718.9123318306201 },
            { x: -2317.31212445685, y: -9153.083019442089 },
            { x: 5341.51756745057, y: -9663.67166556925 },
            { x: 5116.858563154619, y: -3128.136995141586 },
        ]
    },
];

// ═══════════════════════════════════════════════════════════════════════════════
// COMMUTER POLYLINES — Friction zones (capacity theft, not traffic sim)
// ═══════════════════════════════════════════════════════════════════════════════

export const COMMUTER_POLYLINES = [
    {
        type: 'industrial_approach',
        weight: 1.0,
        name: 'PIR_COLONIAL_SPINE',
        polylines: [
            [
                [-214.49423692434993, -7500.193165803793],
                [-214.49423692434993, -6204.256763733247],
                [-324.0099892120017, -5751.591654277619],
            ],
        ],
    },
    {
        type: 'industrial_approach',
        weight: 0.6,
        name: 'REX-RBR',
        polylines: [
            [
                [-294.7045281296, -5749.520168684549],
                [2999.6942131163346, -6601.03964126846],
            ],
        ],
    },
    {
        type: 'aduana',
        weight: 0.9,
        name: 'ADUANA_APPROACH',
        polylines: [
            [
                [-335.775121533232, -4271.348689457563],
                [-417.0257555042095, -3875.9289374654722],
                [-509.10980733798397, -3422.730956871798],
                [-510.9153769817835, -3346.8970318322185],
                [-460.35942695539745, -3036.3390530987044],
                [-391.74778049101644, -2906.3380387451407],
            ],
        ],
    },
    {
        type: 'industrial_approach',
        weight: 0.8,
        name: 'VILLAFLORIDA',
        polylines: [
            [
                [-18471.80685735676, -2188.2584241885993],
                [-16524.762802685364, -1361.195462912253],
                [-15887.23510336818, -1748.8812260105403],
                [-15590.009351659493, -1891.0326724799124],
            ],
        ],
    },
    {
        type: 'commuter_arterial',
        weight: 1.0,
        name: 'SAN_FERNANDO_ARTERY',
        polylines: [
            [
                [-7366.374550970289, -3970.4150578068948],
                [-7345.63073495644, -3826.804023864861],
                [-7269.038183520689, -3762.9768976684018],
                [-7245.103011197017, -3691.171380697385],
                [-7292.973355844361, -3590.6436569379616],
                [-7299.356068464007, -3515.646783657122],
                [-7261.059792746131, -3354.483290011062],
                [-7249.890045661751, -3273.103704110576],
                [-7186.062919465291, -3265.1253133360187],
                [-7069.578414156753, -3320.9740487579206],
            ],
        ],
    },
    {
        type: 'commuter_arterial',
        weight: 0.7,
        name: 'PORFIRIO_DIAZ',
        polylines: [
            [
                [-4613.0306114751775, -4521.432135977184],
                [-2814.5068624856867, -4989.726998921617],
                [-473.0325477635197, -5648.0545598724875],
            ],
        ],
    },
    {
        type: 'urban_arterial',
        weight: 0.7,
        name: 'ENTRADA_MTY',
        polylines: [
            [
                [-37945.192676822146, -10833.036383865958],
                [-8663.937237237742, 2123.9191481501402],
            ],
        ],
    },
];

// ═══════════════════════════════════════════════════════════════════════════════
// INTERSECTION POINTS — Stop-go wave generators
// ═══════════════════════════════════════════════════════════════════════════════

export const INTERSECTION_POINTS = [
    { x: -288.55119353020353, y: -5711.657348025975 },
    { x: -218.11852623957964, y: -6523.704570906109 },
    { x: -226.40472239141775, y: -7016.733241940477 },
    { x: -205.68923201182247, y: -7480.760226443411 },
    { x: 1961.1510616938422, y: -6324.835863261995 },
    { x: 2876.7757364719528, y: -6569.278649741219 },
    { x: 3013.4979729772817, y: -6606.56653242449 },
    { x: -1303.6102221303713, y: -5409.211188483885 },
    { x: -1332.6119086618048, y: -5475.50075769859 },
    { x: -5931.74033199413, y: -3856.344878610892 },
    { x: -5663.804292899273, y: -3981.613676109787 },
    { x: -5315.8354109578995, y: -4134.719984163991 },
    { x: -8147.731542817304, y: -2707.214527676298 },
    { x: -9507.593650139586, y: -2540.564759622097 },
];

export const INTERSECTION_RADIUS_M = 75;

// ═══════════════════════════════════════════════════════════════════════════════
// SPEED LIMIT ZONES — Road classification determines max speed
// ═══════════════════════════════════════════════════════════════════════════════

export const SPEED_LIMIT_POLYLINES = [
    {
        speedKph: 55,
        name: 'BLVD_LIBRAMIENTO',
        polylines: [
            [
                [-16574.487964270673, -1305.6248559919432],
                [-15663.974536014346, -1882.332109016965],
                [-8222.462782699557, -2696.002274209865],
                [-8025.920266903473, -2833.899039324859],
                [-7296.81093411155, -3228.5690912057044],
                [-4600.6914230701095, -4544.135930808523],
                [-1310.1893037743844, -5442.842434489004],
                [931.0293844164419, -6045.1501441866785],
                [3604.9586114163885, -6785.354618999349],
            ],
        ],
    },
    {
        speedKph: 100,
        name: 'LRSII_PONIENTE',
        polylines: [
            [
                [-6007.013894734803, -15181.327649239845],
                [-7299.582348194048, -15613.630907514353],
                [-7738.900174284277, -15643.199973757553],
                [-8096.33315750356, -15620.860412306349],
                [-13679.444947061722, -14726.545011459011],
                [-14011.146831257453, -14632.708294219428],
                [-14340.666466215054, -14475.586349074083],
                [-24174.208363900656, -7792.687776732117],
                [-25312.160153590215, -5179.150149862686],
            ],
        ],
    },
    {
        speedKph: 80,
        name: 'LRSII_ESTE',
        polylines: [
            [
                [-6368.473358043923, -15656.368140701457],
                [-6301.114177286924, -15442.473198297654],
                [-6168.759295799487, -15278.211336451637],
                [-5986.771333754261, -15176.581695309498],
                [-4934.735747801488, -14801.840246823089],
                [-4247.4223822055665, -14047.257913530544],
                [-4107.034971360443, -13968.289994930163],
                [-3992.181464068437, -13935.825215512823],
                [-3430.181464068437, -13885.825215512823],
                [-3097.181464068437, -13861.825215512823],
                [-2880.181464068437, -13836.825215512823],
                [-2740.181464068437, -13805.825215512823],
                [-2624.181464068437, -13765.825215512823],
                [-2447.5932287743194, -13688.001686101059],
                [-2232.5932287743194, -13568.001686101059],
                [-2105.5932287743194, -13510.001686101059],
                [-2025.5932287743194, -13494.001686101059],
                [-1580.818552802236, -13285.33128553804],
                [-1436.818552802236, -13205.33128553804],
                [-1298.818552802236, -13082.33128553804],
                [2701.563588760961, -8238.34914153981],
                [2807.563588760961, -8080.34914153981],
                [3145.563588760961, -7258.34914153981],
            ],
        ],
    },
    {
        speedKph: 110,
        name: 'ENTRADA_SANFERNANDO',
        polylines: [
            [
                [-5313.633075342698, -27903.379680195907],
                [-6409.465627335332, -15286.63804459721],
            ],
        ],
    },
    {
        speedKph: 55,
        name: 'REYNOSA_SANFERNANDO',
        polylines: [
            [
                [-6414.56121856187, -15274.666116411796],
                [-7355.329811062372, -4148.605235697094],
                [-7265.419170352707, -3344.6983305283306],
            ],
        ],
    },
    {
        speedKph: 60,
        name: '2D',
        polylines: [
            [
                [3156.928263876448, -7259.223566829529],
                [3329.928263876448, -7116.223566829529],
                [4100.928263876448, -6771.223566829529],
                [5990.236081950355, -5914.857394929713],
                [6214.236081950355, -5861.857394929713],
                [6406.236081950355, -5853.857394929713],
                [9768.246661723451, -5897.328711504852],
                [11627.841972782506, -5919.581117947901],
            ],
        ],
    },
    {
        speedKph: 100,
        name: 'AVE_PTE_PHARR',
        polylines: [
            [
                [-344.6282421308715, -13042.040588503369],
                [-549.9350614429121, -12139.653375770506],
                [-554.5252970950285, -10710.832667154451],
                [-538.5252970950285, -10483.832667154451],
                [-466.52529709502846, -10238.832667154451],
                [-168.63719050313227, -9461.650814745419],
                [-120.63719050313227, -9191.650814745419],
                [-124.16125407285438, -8202.671062174459],
                [-186.7697831430176, -7861.169994519023],
                [-214.74712221281024, -6522.50849375271],
                [-212.17383969920076, -6204.079288562246],
                [-302.17383969920076, -5929.079288562246],
                [-308.47102721409914, -5727.142442084996],
            ],
        ],
    },
    {
        speedKph: 60,
        name: 'LRSII_NORTE_60',
        polylines: [
            [
                [-16558.58956968774, -1340.766476624469],
                [-25277.560682617026, -5134.537879489104],
            ],
        ],
    },
    {
        speedKph: 100,
        name: 'LRSII_NORTE_100',
        polylines: [
            [
                [-25277.560682617026, -5134.537879489104],
                [-39213.000266958436, -11141.148604974645],
            ],
        ],
    },
    {
        speedKph: 25,
        name: 'ENTRADA_PUENTE',
        polylines: [
            [
                [-301.47102721409914, -5688.142442084996],
                [-330.15914851380217, -4290.670112505478],
                [-464.58723897602334, -3567.648156670087],
                [-508.58723897602334, -3346.648156670087],
                [-465.58723897602334, -3036.648156670087],
                [-414.58723897602334, -2954.648156670087],
                [-386.58723897602334, -2818.648156670087],
                [-365.58723897602334, -2696.648156670087],
                [-379.4315421967008, -2631.832858514562],
                [-387.58723897602334, -2596.648156670087],
                [333.60928610387634, 2195.2086653000115],
            ],
        ],
    },
];

export const SPEED_LIMIT_BUFFER_M = 60;
